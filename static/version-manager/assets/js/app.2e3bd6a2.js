!function(){var e,t,r={8502:function(e){e.exports={publicKey:"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCP9yHNFCqGFIvYhhCPx7CkKsuPq2DNL8CY80kaqKbYi2Gxrv+/vrVa0N7+hjs0LKvKAUMECrsdQ9PqiDDvRq21ynHUgDbxfdUyoIggdObO0MxiIN4VidV1OQLHDuFJ1Cy0R6uJxJ2VQthC7pPiHFqvmLVeC3q4lJR2VkurNP8B7wIDAQAB"}},9460:function(e,t,r){"use strict";var a=r(9963),n=r(6252),o={name:"App"},i=(o=(0,(f=r(3744)).Z)(o,[["render",function(e,t,r,a,o,i){var s=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(s)}]]),r(2119)),s=r(3577);const u={class:"versionUpgrade"},l={class:"mainBox"},c={class:"versionStatus"},d={key:0},p={key:1},g={key:2};var v=r(894),h={name:"VersionUpgrade",data:()=>({}),computed:{...(0,v.rn)({tableData:e=>e.VersionUpgrade.tableData,curVersion:e=>e.VersionUpgrade.curVersion,curStatus:e=>e.VersionUpgrade.curStatus,statusFailedText:e=>e.VersionUpgrade.statusFailedText})},created(){this.getVersionsList(),this.getCurVersions()},methods:{...(0,v.nv)("VersionUpgrade",["versionUpgrade","versionRollback","getVersionsList","getCurVersions"]),versionUpdate(e,t){"upgrade"==t?this.versionUpgrade(e):"rollback"==t&&this.versionRollback(e)},formatUtcTime(e){let t=new Date(e.releaseDate);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}}},f=(h=(0,f.Z)(h,[["render",function(e,t,r,o,i,v){const h=(0,n.up)("el-table-column"),f=(0,n.up)("el-button");var m=(0,n.up)("el-table");return(0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",l,[(0,n._)("div",c,[(0,n._)("p",null,(0,s.zw)(e.$t("versionUpdate.currentVersion")+": "+this.curVersion),1),(0,n._)("div",null,[(0,n.Uk)((0,s.zw)(e.$t("versionUpdate.status")+": ")+" ",1),"deployed"==this.curStatus?((0,n.wg)(),(0,n.iD)("span",d," 成功")):((0,n.wg)(),(0,n.iD)("span",p,"失败")),"deployed"!=this.curStatus?((0,n.wg)(),(0,n.iD)("p",g," 原因："+(0,s.zw)(e.statusFailedText),1)):(0,n.kq)("",!0)])]),(0,n.Wm)(m,{data:e.tableData,style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{prop:"version",label:e.$t("versionUpdate.version"),"min-width":"10%"},null,8,["label"]),(0,n.Wm)(h,{prop:"releaseDate",label:e.$t("versionUpdate.date"),"min-width":"25%",formatter:v.formatUtcTime},null,8,["label","formatter"]),(0,n.Wm)(h,{prop:"description",label:e.$t("versionUpdate.description"),"min-width":"40%"},null,8,["label"]),(0,n.Wm)(h,{fixed:"right",label:e.$t("versionUpdate.operations"),"min-width":"20%"},{default:(0,n.w5)((t=>[e.curVersion>t.row.version?((0,n.wg)(),(0,n.j4)(f,{key:0,onClick:e=>v.versionUpdate(t.row,"rollback"),type:"primary",size:"small"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(this.$t("versionUpdate.rollback")),1)])),_:2},1032,["onClick"])):(0,n.kq)("",!0),(0,n.wy)((0,n.Wm)(f,{onClick:e=>v.versionUpdate(t.row,"upgrade"),type:"primary",size:"small"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(this.$t("versionUpdate.upgrade")),1)])),_:2},1032,["onClick"]),[[a.F8,e.curVersion<t.row.version]])])),_:1},8,["label"])])),_:1},8,["data"])])])}],["__scopeId","data-v-a62a4672"]]),[{path:"/",component:(0,f.Z)({data:()=>({}),components:{VersionUpgrade:h}},[["render",function(e,t,r,a,o,i){var s=(0,n.up)("VersionUpgrade");return(0,n.wg)(),(0,n.j4)(s)}]])}]),m=(h=(0,i.p7)({history:(0,i.PO)("/version-manager/"),routes:f}),i=r(9669),r.n(i)),b=(r(1703),f=r(8502),r.n(f)),w=r(7134),U=(m().defaults.headers.post["Content-Type"]="application/json",m().interceptors.request.use((function(e){return e.headers.IDEReq=function(e){var t=b().publicKey;let r=new w.Z;r.setPublicKey(t);try{if(0!=r.encrypt(e))return r.encrypt(e);throw new Error("length err")}catch(e){return data}}("WeFromWhereWeFrom"),e}),(function(e){return Promise.reject(e)})),i=m(),f=r(7525),r(9150)),y={zh:{versionUpdate:{version:"版本号",date:"日期",description:"说明",operations:"操作",upgrade:"升级",rollback:"回滚",currentVersion:"版本",status:"当前状态"}},en:{versionUpdate:{version:"Version",date:"Date",description:"Description",operations:"Operations",upgrade:"Upgrade",rollback:"Rollback",currentVersion:"current version",status:"status"}}};let V=new URLSearchParams(location.search);const k=(navigator.language||"en").toLocaleLowerCase();U=(0,U.o)({locale:V.get("lang")||localStorage.getItem("language")||(-1!=["en","zh"].indexOf(k.split("-")[0])?k.split("-")[0]:"")||"zh",messages:y}),y=(0,v.MT)({state:{},mutations:{},actions:{},getters:{},modules:{VersionUpgrade:{namespaced:!0,state:{curVersion:"2",curStatus:"deployed",statusFailedText:"Install complete",tableData:[]},getters:{},actions:{getVersionsList({commit:e}){m()({method:"get",url:"https://registry-dev.dmetasoul.com/api/api/alphaide/listVersions"}).then((t=>{200==t.data.code&&e("initTableData",t.data)})).catch((e=>{}))},getCurVersions({state:e}){m()({method:"get",url:"/version-manager/api/v1/version/checkstatus"}).then((t=>{200==t.data.code&&(e.curVersion=t.data.data.version,e.curStatus=t.data.data.status,e.statusFailedText=t.data.data.description)})).catch((e=>{}))},versionUpgrade({},e){},versionRollback({},e){}},mutations:{initTableData(e,t){e.tableData=t.list}}}}}),r(4415);const D=(0,a.ri)(o);D.config.globalProperties.$axios=i,D.use(h).use(y).use(f.Z).use(U).mount("#app")}},a={};function n(e){var t=a[e];return void 0!==t||(t=a[e]={exports:{}},r[e].call(t.exports,t,t.exports,n)),t.exports}function o(e,r){var a,o,i,s=r[0],u=r[1],l=r[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(a in u)n.o(u,a)&&(n.m[a]=u[a]);l&&(i=l(n))}for(e&&e(r);c<s.length;c++)o=s[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(i)}n.m=r,e=[],n.O=function(t,r,a,o){if(!r){for(var i=1/0,s=0;s<e.length;s++){r=e[s][0],a=e[s][1],o=e[s][2];for(var u,l=!0,c=0;c<r.length;c++)(!1&o||o<=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(l=!1,o<i&&(i=o));l&&(e.splice(s--,1),void 0!==(u=a())&&(t=u))}return t}for(o=o||0,s=e.length;0<s&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[r,a,o]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={143:0},n.O.j=function(e){return 0===t[e]},(i=self.webpackChunkIDE_version=self.webpackChunkIDE_version||[]).forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i));var i=n.O(void 0,[652,517,277],(function(){return n(9460)}));n.O(i)}();